{"version":3,"file":"index.cjs.js","sources":["../node_modules/@propelauth/javascript/dist/esm/index.js","../src/useActiveOrg.tsx","../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/react-is/cjs/react-is.development.js","../node_modules/react-is/index.js","../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../src/useRedirectFunctions.tsx","../src/withRequiredAuthInfo.tsx","../src/AuthContext.tsx","../src/useAuthInfo.ts","../src/additionalHooks.ts","../src/AuthContextForTesting.tsx","../src/useHostedPageUrls.tsx","../src/useLogoutFunction.ts","../src/withAuthInfo.tsx"],"sourcesContent":["function getOrgHelper(orgIdToOrgMemberInfo) {\n  return {\n    getOrg(orgId) {\n      if (orgIdToOrgMemberInfo.hasOwnProperty(orgId)) {\n        return orgIdToOrgMemberInfo[orgId];\n      } else {\n        return undefined;\n      }\n    },\n\n    getOrgIds() {\n      return Object.keys(orgIdToOrgMemberInfo);\n    },\n\n    getOrgs() {\n      return Object.values(orgIdToOrgMemberInfo);\n    },\n\n    getOrgByName(orgName) {\n      for (const orgMemberInfo of Object.values(orgIdToOrgMemberInfo)) {\n        if (orgMemberInfo.orgName === orgName || orgMemberInfo.urlSafeOrgName === orgName) {\n          return orgMemberInfo;\n        }\n      }\n\n      return undefined;\n    }\n\n  };\n}\n\nfunction getAccessHelper(orgIdToOrgMemberInfo) {\n  function isRole(orgId, role) {\n    const orgMemberInfo = orgIdToOrgMemberInfo[orgId];\n\n    if (orgMemberInfo === undefined) {\n      return false;\n    }\n\n    return orgMemberInfo.userAssignedRole === role;\n  }\n\n  function isAtLeastRole(orgId, role) {\n    const orgMemberInfo = orgIdToOrgMemberInfo[orgId];\n\n    if (orgMemberInfo === undefined) {\n      return false;\n    }\n\n    return orgMemberInfo.userInheritedRolesPlusCurrentRole.includes(role);\n  }\n\n  function hasPermission(orgId, permission) {\n    const orgMemberInfo = orgIdToOrgMemberInfo[orgId];\n\n    if (orgMemberInfo === undefined) {\n      return false;\n    }\n\n    return orgMemberInfo.userPermissions.includes(permission);\n  }\n\n  function hasAllPermissions(orgId, permissions) {\n    const orgMemberInfo = orgIdToOrgMemberInfo[orgId];\n\n    if (orgMemberInfo === undefined) {\n      return false;\n    }\n\n    return permissions.every(permission => orgMemberInfo.userPermissions.includes(permission));\n  }\n\n  function getAccessHelperWithOrgId(orgId) {\n    return {\n      isRole(role) {\n        return isRole(orgId, role);\n      },\n\n      isAtLeastRole(role) {\n        return isAtLeastRole(orgId, role);\n      },\n\n      hasPermission(permission) {\n        return hasPermission(orgId, permission);\n      },\n\n      hasAllPermissions(permissions) {\n        return hasAllPermissions(orgId, permissions);\n      }\n\n    };\n  }\n\n  return {\n    isRole,\n    isAtLeastRole,\n    hasPermission,\n    hasAllPermissions,\n    getAccessHelperWithOrgId\n  };\n}\n\nfunction fetchAuthenticationInfo(authUrl) {\n  return fetch(`${authUrl}/api/v1/refresh_token`, {\n    method: \"GET\",\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(res => {\n    if (res.status === 401) {\n      return null;\n    } else if (res.status === 0) {\n      logCorsError();\n      return Promise.reject({\n        status: 503,\n        message: \"Unable to process authentication response\"\n      });\n    } else if (!res.ok) {\n      return Promise.reject({\n        status: res.status,\n        message: res.statusText\n      });\n    } else {\n      return parseResponse(res);\n    }\n  });\n}\nfunction logout(authUrl) {\n  return fetch(`${authUrl}/api/v1/logout`, {\n    method: \"POST\",\n    credentials: \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(res => {\n    if (res.status === 0) {\n      logCorsError();\n      return Promise.reject({\n        status: 503,\n        message: \"Unable to process authentication response\"\n      });\n    } else if (!res.ok) {\n      console.error(\"Logout error\", res.status, res.statusText);\n      return Promise.reject({\n        status: res.status,\n        message: res.statusText\n      });\n    } else {\n      return res.json();\n    }\n  });\n}\n\nfunction parseResponse(res) {\n  return res.text().then(httpResponse => {\n    try {\n      return parseJsonConvertingSnakeToCamel(httpResponse);\n    } catch (e) {\n      console.error(\"Unable to process authentication response\", e);\n      return Promise.reject({\n        status: 500,\n        message: \"Unable to process authentication response\"\n      });\n    }\n  }, e => {\n    console.error(\"Unable to process authentication response\", e);\n    return Promise.reject({\n      status: 500,\n      message: \"Unable to process authentication response\"\n    });\n  });\n} // The API responds with snake_case, but TypeScript convention is camelCase.\n// When parsing JSON, we pass in reviver function to convert from snake_case to camelCase.\n\n\nfunction parseJsonConvertingSnakeToCamel(str) {\n  return JSON.parse(str, function (key, value) {\n    if (key === \"org_id\") {\n      this.orgId = value;\n    } else if (key === \"org_name\") {\n      this.orgName = value;\n    } else if (key === \"url_safe_org_name\") {\n      this.urlSafeOrgName = value;\n    } else if (key === \"user_role\") {\n      this.userAssignedRole = value;\n    } else if (key === \"inherited_user_roles_plus_current_role\") {\n      this.userInheritedRolesPlusCurrentRole = value;\n    } else if (key === \"user_permissions\") {\n      this.userPermissions = value;\n    } else if (key === \"access_token\") {\n      this.accessToken = value;\n    } else if (key === \"expires_at_seconds\") {\n      this.expiresAtSeconds = value;\n    } else if (key === \"org_id_to_org_member_info\") {\n      this.orgIdToOrgMemberInfo = value;\n      this.orgHelper = getOrgHelper(value);\n      this.accessHelper = getAccessHelper(value);\n    } else if (key === \"user_id\") {\n      this.userId = value;\n    } else if (key === \"email_confirmed\") {\n      this.emailConfirmed = value;\n    } else if (key === \"first_name\") {\n      this.firstName = value;\n    } else if (key === \"last_name\") {\n      this.lastName = value;\n    } else if (key === \"picture_url\") {\n      this.pictureUrl = value;\n    } else if (key === \"mfa_enabled\") {\n      this.mfaEnabled = value;\n    } else if (key === \"has_password\") {\n      this.hasPassword = value;\n    } else if (key === \"created_at\") {\n      this.createdAt = value;\n    } else if (key === \"last_active_at\") {\n      this.lastActiveAt = value;\n    } else if (key === \"legacy_user_id\") {\n      this.legacyUserId = value;\n    } else if (key === \"impersonator_user\") {\n      this.impersonatorUserId = value;\n    } else {\n      return value;\n    }\n  });\n}\n\nfunction logCorsError() {\n  console.error(\"Request to PropelAuth failed due to a CORS error. There are a few likely causes: \\n\" + \" 1. In the Frontend Integration section of your dashboard, make sure your requests are coming either the specified Application URL or localhost with a matching port.\\n\" + \" 2. Make sure your server is hosted on HTTPS in production.\");\n}\n\nfunction currentTimeSeconds() {\n  return Date.now() / 1000;\n}\nfunction hasLocalStorage() {\n  return typeof localStorage !== \"undefined\";\n}\nfunction hasWindow() {\n  return typeof window !== \"undefined\";\n}\nfunction getLocalStorageNumber(key) {\n  if (!hasLocalStorage()) {\n    return null;\n  }\n\n  const value = localStorage.getItem(key);\n\n  if (!value) {\n    return null;\n  }\n\n  const num = parseInt(value, 10);\n\n  if (Number.isNaN(num)) {\n    return null;\n  }\n\n  return num;\n}\n\nconst LOGGED_IN_AT_KEY = \"__PROPEL_AUTH_LOGGED_IN_AT\";\nconst LOGGED_OUT_AT_KEY = \"__PROPEL_AUTH_LOGGED_OUT_AT\";\nconst AUTH_TOKEN_REFRESH_BEFORE_EXPIRATION_SECONDS = 4 * 60;\nconst DEBOUNCE_DURATION_FOR_REFOCUS_SECONDS = 4 * 60;\n\nfunction validateAndCleanupOptions(authOptions) {\n  try {\n    // This helps make sure we have a consistent URL ignoring things like trailing slashes\n    const authUrl = new URL(authOptions.authUrl);\n    authOptions.authUrl = authUrl.origin;\n  } catch (e) {\n    console.error(\"Invalid authUrl\", e);\n    throw new Error(\"Unable to initialize auth client\");\n  }\n\n  if (authOptions.enableBackgroundTokenRefresh === undefined) {\n    authOptions.enableBackgroundTokenRefresh = true;\n  }\n}\n\nfunction createClient(authOptions) {\n  validateAndCleanupOptions(authOptions); // Internal state\n\n  const clientState = {\n    initialLoadFinished: false,\n    authenticationInfo: null,\n    observers: [],\n    lastLoggedInAtMessage: getLocalStorageNumber(LOGGED_IN_AT_KEY),\n    lastLoggedOutAtMessage: getLocalStorageNumber(LOGGED_OUT_AT_KEY),\n    authUrl: authOptions.authUrl,\n    refreshInterval: null,\n    lastRefresh: null\n  }; // Helper functions\n\n  function notifyObservers(isLoggedIn) {\n    for (let i = 0; i < clientState.observers.length; i++) {\n      const observer = clientState.observers[i];\n\n      if (observer) {\n        observer(isLoggedIn);\n      }\n    }\n  }\n\n  function userJustLoggedOut(accessToken, previousAccessToken) {\n    // Edge case: the first time we go to the page, if we can't load the\n    //   auth token we should treat it as a logout event\n    return !accessToken && (previousAccessToken || !clientState.initialLoadFinished);\n  }\n\n  function userJustLoggedIn(accessToken, previousAccessToken) {\n    return !previousAccessToken && accessToken;\n  }\n\n  function updateLastLoggedOutAt() {\n    const loggedOutAt = currentTimeSeconds();\n    clientState.lastLoggedOutAtMessage = loggedOutAt;\n\n    if (hasLocalStorage()) {\n      localStorage.setItem(LOGGED_OUT_AT_KEY, String(loggedOutAt));\n    }\n  }\n\n  function updateLastLoggedInAt() {\n    const loggedInAt = currentTimeSeconds();\n    clientState.lastLoggedInAtMessage = loggedInAt;\n\n    if (hasLocalStorage()) {\n      localStorage.setItem(LOGGED_IN_AT_KEY, String(loggedInAt));\n    }\n  }\n\n  function setAuthenticationInfoAndUpdateDownstream(authenticationInfo) {\n    var _clientState$authenti;\n\n    const previousAccessToken = (_clientState$authenti = clientState.authenticationInfo) === null || _clientState$authenti === void 0 ? void 0 : _clientState$authenti.accessToken;\n    clientState.authenticationInfo = authenticationInfo;\n    const accessToken = authenticationInfo === null || authenticationInfo === void 0 ? void 0 : authenticationInfo.accessToken;\n\n    if (userJustLoggedOut(accessToken, previousAccessToken)) {\n      notifyObservers(false);\n      updateLastLoggedOutAt();\n    } else if (userJustLoggedIn(accessToken, previousAccessToken)) {\n      notifyObservers(true);\n      updateLastLoggedInAt();\n    }\n\n    clientState.lastRefresh = currentTimeSeconds();\n    clientState.initialLoadFinished = true;\n  }\n\n  async function forceRefreshToken(returnCached) {\n    try {\n      // Happy case, we fetch auth info and save it\n      const authenticationInfo = await fetchAuthenticationInfo(clientState.authUrl);\n      setAuthenticationInfoAndUpdateDownstream(authenticationInfo);\n      return authenticationInfo;\n    } catch (e) {\n      // If there was an error, we sometimes still want to return the value we have cached\n      //   (e.g. if we were prefetching), so in those cases we swallow the exception\n      if (returnCached) {\n        return clientState.authenticationInfo;\n      } else {\n        setAuthenticationInfoAndUpdateDownstream(null);\n        throw e;\n      }\n    }\n  }\n\n  const getSignupPageUrl = options => {\n    let qs = \"\";\n\n    if (options && options.postSignupRedirectUrl) {\n      const encode = window ? window.btoa : btoa;\n      qs = new URLSearchParams({\n        \"rt\": encode(options.postSignupRedirectUrl)\n      }).toString();\n    }\n\n    return `${clientState.authUrl}/signup?${qs}`;\n  };\n\n  const getLoginPageUrl = options => {\n    let qs = \"\";\n\n    if (options && options.postLoginRedirectUrl) {\n      const encode = window ? window.btoa : btoa;\n      qs = new URLSearchParams({\n        \"rt\": encode(options.postLoginRedirectUrl)\n      }).toString();\n    }\n\n    return `${clientState.authUrl}/login?${qs}`;\n  };\n\n  const getAccountPageUrl = () => {\n    return `${clientState.authUrl}/account`;\n  };\n\n  const getOrgPageUrl = orgId => {\n    if (orgId) {\n      return `${clientState.authUrl}/org?id=${orgId}`;\n    } else {\n      return `${clientState.authUrl}/org`;\n    }\n  };\n\n  const getCreateOrgPageUrl = () => {\n    return `${clientState.authUrl}/create_org`;\n  };\n\n  const getSetupSAMLPageUrl = orgId => {\n    return `${clientState.authUrl}/saml?id=${orgId}`;\n  };\n\n  const client = {\n    addLoggedInChangeObserver(loggedInChangeObserver) {\n      const hasObserver = clientState.observers.includes(loggedInChangeObserver);\n\n      if (hasObserver) {\n        console.error(\"Observer has been attached already.\");\n      } else if (!loggedInChangeObserver) {\n        console.error(\"Cannot add a null observer\");\n      } else {\n        clientState.observers.push(loggedInChangeObserver);\n      }\n    },\n\n    removeLoggedInChangeObserver(loggedInChangeObserver) {\n      const observerIndex = clientState.observers.indexOf(loggedInChangeObserver);\n\n      if (observerIndex === -1) {\n        console.error(\"Cannot find observer to remove\");\n      } else {\n        clientState.observers.splice(observerIndex, 1);\n      }\n    },\n\n    async getAuthenticationInfoOrNull(forceRefresh) {\n      const currentTimeSecs = currentTimeSeconds();\n\n      if (forceRefresh) {\n        return await forceRefreshToken(false);\n      } else if (!clientState.authenticationInfo) {\n        return await forceRefreshToken(false);\n      } else if (currentTimeSecs + AUTH_TOKEN_REFRESH_BEFORE_EXPIRATION_SECONDS > clientState.authenticationInfo.expiresAtSeconds) {\n        // Small edge case: If we were being proactive\n        //   and the auth information hasn't expired yet, swallow any exceptions\n        const returnCached = currentTimeSecs < clientState.authenticationInfo.expiresAtSeconds;\n        return await forceRefreshToken(returnCached);\n      } else {\n        return clientState.authenticationInfo;\n      }\n    },\n\n    getSignupPageUrl(options) {\n      return getSignupPageUrl(options);\n    },\n\n    getLoginPageUrl(options) {\n      return getLoginPageUrl(options);\n    },\n\n    getAccountPageUrl() {\n      return getAccountPageUrl();\n    },\n\n    getOrgPageUrl(orgId) {\n      return getOrgPageUrl(orgId);\n    },\n\n    getCreateOrgPageUrl() {\n      return getCreateOrgPageUrl();\n    },\n\n    getSetupSAMLPageUrl(orgId) {\n      return getSetupSAMLPageUrl(orgId);\n    },\n\n    redirectToSignupPage(options) {\n      window.location.href = getSignupPageUrl(options);\n    },\n\n    redirectToLoginPage(options) {\n      window.location.href = getLoginPageUrl(options);\n    },\n\n    redirectToAccountPage() {\n      window.location.href = getAccountPageUrl();\n    },\n\n    redirectToOrgPage(orgId) {\n      window.location.href = getOrgPageUrl(orgId);\n    },\n\n    redirectToCreateOrgPage() {\n      window.location.href = getCreateOrgPageUrl();\n    },\n\n    redirectToSetupSAMLPage(orgId) {\n      window.location.href = getSetupSAMLPageUrl(orgId);\n    },\n\n    async logout(redirectAfterLogout) {\n      const logoutResponse = await logout(clientState.authUrl);\n      setAuthenticationInfoAndUpdateDownstream(null);\n\n      if (redirectAfterLogout) {\n        window.location.href = logoutResponse.redirect_to;\n      }\n    },\n\n    destroy() {\n      clientState.observers = [];\n      window.removeEventListener(\"storage\", onStorageChange);\n\n      if (clientState.refreshInterval) {\n        clearInterval(clientState.refreshInterval);\n      }\n    }\n\n  };\n\n  const onStorageChange = async function () {\n    // If localStorage isn't available, nothing to do here.\n    // This usually happens in frameworks that have some SSR components\n    if (!hasLocalStorage()) {\n      return;\n    }\n\n    const loggedOutAt = getLocalStorageNumber(LOGGED_OUT_AT_KEY);\n    const loggedInAt = getLocalStorageNumber(LOGGED_IN_AT_KEY); // If we've detected a logout event after the last one our client is aware of, trigger a refresh\n\n    if (loggedOutAt && (!clientState.lastLoggedOutAtMessage || loggedOutAt > clientState.lastLoggedOutAtMessage)) {\n      clientState.lastLoggedOutAtMessage = loggedOutAt;\n\n      if (clientState.authenticationInfo) {\n        await forceRefreshToken(true);\n      }\n    } // If we've detected a login event after the last one our client is aware of, trigger a refresh\n\n\n    if (loggedInAt && (!clientState.lastLoggedInAtMessage || loggedInAt > clientState.lastLoggedInAtMessage)) {\n      clientState.lastLoggedInAtMessage = loggedInAt;\n\n      if (!clientState.authenticationInfo) {\n        await forceRefreshToken(true);\n      }\n    }\n  }; // If we were offline or on a different tab, when we return, refetch auth info\n  // Some browsers trigger focus more often than we'd like, so we'll debounce a little here as well\n\n\n  const onOnlineOrFocus = async function () {\n    if (clientState.lastRefresh && currentTimeSeconds() > clientState.lastRefresh + DEBOUNCE_DURATION_FOR_REFOCUS_SECONDS) {\n      await forceRefreshToken(true);\n    } else {\n      await client.getAuthenticationInfoOrNull();\n    }\n  };\n\n  if (hasWindow()) {\n    window.addEventListener(\"storage\", onStorageChange);\n    window.addEventListener(\"online\", onOnlineOrFocus);\n    window.addEventListener(\"focus\", onOnlineOrFocus);\n\n    if (authOptions.enableBackgroundTokenRefresh) {\n      client.getAuthenticationInfoOrNull();\n      clientState.refreshInterval = window.setInterval(client.getAuthenticationInfoOrNull, 60000);\n    }\n  }\n\n  return client;\n}\n\nexport { createClient };\n//# sourceMappingURL=index.js.map\n","import { useContext } from \"react\"\nimport { AuthContext } from \"./AuthContext\"\n\nconst ORG_SELECTION_LOCAL_STORAGE_KEY = \"__last_selected_org\"\n\nexport function useActiveOrg() {\n    const context = useContext(AuthContext)\n    if (context === undefined) {\n        throw new Error(\"useActiveOrg must be used within an AuthProvider or RequiredAuthProvider\")\n    }\n\n    if (context.loading || !context.authInfo || !context.authInfo.orgHelper) {\n        return null\n    }\n\n    const proposedActiveOrgIdOrName = context.activeOrgFn()\n    if (!proposedActiveOrgIdOrName) {\n        return null\n    }\n\n    const orgHelper = context.authInfo.orgHelper\n    return orgHelper.getOrg(proposedActiveOrgIdOrName) || orgHelper.getOrgByName(proposedActiveOrgIdOrName)\n}\n\nexport function saveOrgSelectionToLocalStorage(orgIdOrName: string) {\n    if (localStorage) {\n        localStorage.setItem(ORG_SELECTION_LOCAL_STORAGE_KEY, orgIdOrName)\n    }\n}\n\nexport function loadOrgSelectionFromLocalStorage(): string | null {\n    if (localStorage) {\n        return localStorage.getItem(ORG_SELECTION_LOCAL_STORAGE_KEY)\n    }\n    return null\n}\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","import React, { useContext, useEffect } from \"react\"\nimport { AuthContext } from \"./AuthContext\"\n\nexport function useRedirectFunctions() {\n    const context = useContext(AuthContext)\n    if (context === undefined) {\n        throw new Error(\"useRedirectFunctions must be used within an AuthProvider or RequiredAuthProvider\")\n    }\n    const {\n        redirectToAccountPage,\n        redirectToSignupPage,\n        redirectToLoginPage,\n        redirectToOrgPage,\n        redirectToCreateOrgPage,\n    } = context\n    return {\n        redirectToSignupPage,\n        redirectToLoginPage,\n        redirectToAccountPage,\n        redirectToOrgPage,\n        redirectToCreateOrgPage,\n    }\n}\n\nexport interface RedirectProps {\n    children?: React.ReactNode\n}\n\nexport interface RedirectToSignupProps extends RedirectProps {\n    postSignupRedirectUrl?: string\n}\n\nexport function RedirectToSignup({ children, postSignupRedirectUrl }: RedirectToSignupProps) {\n    const { redirectToSignupPage } = useRedirectFunctions()\n\n    useEffect(() => {\n        if (postSignupRedirectUrl) {\n            redirectToSignupPage({ postSignupRedirectUrl })\n        } else {\n            redirectToSignupPage()\n        }\n    }, [])\n\n    return <>{children}</>\n}\n\nexport interface RedirectToLoginProps extends RedirectProps {\n    postLoginRedirectUrl?: string\n}\n\nexport function RedirectToLogin({ children, postLoginRedirectUrl }: RedirectToLoginProps) {\n    const { redirectToLoginPage } = useRedirectFunctions()\n    useEffect(() => {\n        if (postLoginRedirectUrl) {\n            redirectToLoginPage({ postLoginRedirectUrl })\n        } else {\n            redirectToLoginPage()\n        }\n    }, [])\n    return <>{children}</>\n}\n","import hoistNonReactStatics from \"hoist-non-react-statics\"\nimport React, { useContext } from \"react\"\nimport { Subtract } from \"utility-types\"\nimport { AuthContext } from \"./AuthContext\"\nimport { RedirectToLogin } from \"./useRedirectFunctions\"\nimport { WithLoggedInAuthInfoProps } from \"./withAuthInfo\"\n\nexport interface WithRequiredAuthInfoArgs {\n    displayWhileLoading?: React.ReactElement\n    displayIfLoggedOut?: React.ReactElement\n}\n\nexport function withRequiredAuthInfo<P extends WithLoggedInAuthInfoProps>(\n    Component: React.ComponentType<P>,\n    args?: WithRequiredAuthInfoArgs\n): React.ComponentType<Subtract<P, WithLoggedInAuthInfoProps>> {\n    const displayName = `withRequiredAuthInfo(${Component.displayName || Component.name || \"Component\"})`\n\n    const WithRequiredAuthInfoWrapper = (props: Subtract<P, WithLoggedInAuthInfoProps>) => {\n        const context = useContext(AuthContext)\n        if (context === undefined) {\n            throw new Error(\"withRequiredAuthInfo must be used within an AuthProvider or RequiredAuthProvider\")\n        }\n\n        const { loading, authInfo, defaultDisplayIfLoggedOut, defaultDisplayWhileLoading, refreshAuthInfo } = context\n\n        function displayLoading() {\n            if (args?.displayWhileLoading) {\n                return args.displayWhileLoading\n            } else if (defaultDisplayWhileLoading) {\n                return defaultDisplayWhileLoading\n            }\n            return <React.Fragment />\n        }\n\n        function displayLoggedOut() {\n            if (args?.displayIfLoggedOut) {\n                return args.displayIfLoggedOut\n            } else if (defaultDisplayIfLoggedOut) {\n                return defaultDisplayIfLoggedOut\n            }\n            return <RedirectToLogin />\n        }\n\n        if (loading) {\n            return displayLoading()\n        } else if (authInfo) {\n            const loggedInProps: P = {\n                ...(props as P),\n                accessToken: authInfo.accessToken,\n                isLoggedIn: !!authInfo.accessToken,\n                orgHelper: authInfo.orgHelper,\n                accessHelper: authInfo.accessHelper,\n                user: authInfo.user,\n                isImpersonating: !!authInfo.impersonatorUserId,\n                impersonatorUserId: authInfo.impersonatorUserId,\n                refreshAuthInfo,\n                accessTokenExpiresAtSeconds: authInfo.expiresAtSeconds,\n            }\n            return <Component {...loggedInProps} />\n        } else {\n            return displayLoggedOut()\n        }\n    }\n    WithRequiredAuthInfoWrapper.displayName = displayName\n    WithRequiredAuthInfoWrapper.WrappedComponent = Component\n\n    return hoistNonReactStatics(WithRequiredAuthInfoWrapper, Component)\n}\n","import {\n    AuthenticationInfo,\n    createClient,\n    RedirectToLoginOptions,\n    RedirectToSignupOptions,\n} from \"@propelauth/javascript\"\nimport React, { useCallback, useEffect, useMemo, useReducer, useState } from \"react\"\nimport { loadOrgSelectionFromLocalStorage } from \"./useActiveOrg\"\nimport { WithLoggedInAuthInfoProps } from \"./withAuthInfo\"\nimport { withRequiredAuthInfo } from \"./withRequiredAuthInfo\"\n\ninterface InternalAuthState {\n    loading: boolean\n    authInfo: AuthenticationInfo | null\n\n    logout: (redirectOnLogout: boolean) => Promise<void>\n\n    redirectToLoginPage: (options?: RedirectToLoginOptions) => void\n    redirectToSignupPage: (options?: RedirectToSignupOptions) => void\n    redirectToAccountPage: () => void\n    redirectToOrgPage: (orgId?: string) => void\n    redirectToCreateOrgPage: () => void\n    redirectToSetupSAMLPage: (orgId: string) => void\n\n    getSignupPageUrl(options?: RedirectToSignupOptions): string\n    getLoginPageUrl(options?: RedirectToLoginOptions): string\n    getAccountPageUrl(): string\n    getOrgPageUrl(orgId?: string): string\n    getCreateOrgPageUrl(): string\n    getSetupSAMLPageUrl(orgId: string): string\n\n    activeOrgFn: () => string | null\n\n    refreshAuthInfo: () => Promise<void>\n    defaultDisplayWhileLoading?: React.ReactElement\n    defaultDisplayIfLoggedOut?: React.ReactElement\n}\n\nexport type AuthProviderProps = {\n    authUrl: string\n    defaultDisplayWhileLoading?: React.ReactElement\n    defaultDisplayIfLoggedOut?: React.ReactElement\n    getActiveOrgFn?: () => string | null\n    children?: React.ReactNode\n}\n\nexport interface RequiredAuthProviderProps\n    extends Omit<AuthProviderProps, \"defaultDisplayWhileLoading\" | \"defaultDisplayIfLoggedOut\"> {\n    displayWhileLoading?: React.ReactElement\n    displayIfLoggedOut?: React.ReactElement\n}\n\nexport const AuthContext = React.createContext<InternalAuthState | undefined>(undefined)\n\ntype AuthInfoState = {\n    loading: boolean\n    authInfo: AuthenticationInfo | null\n}\n\nconst initialAuthInfoState: AuthInfoState = {\n    loading: true,\n    authInfo: null,\n}\n\ntype AuthInfoStateAction = {\n    authInfo: AuthenticationInfo | null\n}\n\nfunction authInfoStateReducer(_state: AuthInfoState, action: AuthInfoStateAction): AuthInfoState {\n    if (!action.authInfo) {\n        return {\n            loading: false,\n            authInfo: action.authInfo,\n        }\n    } else if (_state.loading) {\n        return {\n            loading: false,\n            authInfo: action.authInfo,\n        }\n    } else if (_state.authInfo && _state.authInfo.accessToken !== action.authInfo.accessToken) {\n        return {\n            loading: false,\n            authInfo: action.authInfo,\n        }\n    } else {\n        return _state\n    }\n}\n\nexport const AuthProvider = (props: AuthProviderProps) => {\n    const [authInfoState, dispatch] = useReducer(authInfoStateReducer, initialAuthInfoState)\n    const [loggedInChangeCounter, setLoggedInChangeCounter] = useState(0)\n\n    // Create a client and register an observer that triggers when the user logs in or out\n    const client = useMemo(() => {\n        // Disable background token refresh as we will do it within React instead\n        const client = createClient({ authUrl: props.authUrl, enableBackgroundTokenRefresh: false })\n        client.addLoggedInChangeObserver(() => setLoggedInChangeCounter((x) => x + 1))\n        return client\n    }, [props.authUrl])\n\n    // On unmount, destroy the client\n    useEffect(() => {\n        return () => {\n            client.destroy()\n        }\n    }, [])\n\n    // Periodically refresh the token. The client will only make requests when the authInfo is stale\n    // Errors are logged and the token will be invalidated separately\n    useEffect(() => {\n        let didCancel = false\n\n        async function refreshToken() {\n            try {\n                const authInfo = await client.getAuthenticationInfoOrNull()\n                if (!didCancel) {\n                    dispatch({ authInfo })\n                }\n            } catch (e) {\n                console.log(\"Failed to refresh token\", e)\n            }\n        }\n\n        const interval = setInterval(refreshToken, 60000)\n        return () => {\n            didCancel = true\n            clearInterval(interval)\n        }\n    }, [client])\n\n    // Refresh the token when the user has logged in or out\n    useEffect(() => {\n        let didCancel = false\n\n        async function refreshToken() {\n            try {\n                const authInfo = await client.getAuthenticationInfoOrNull()\n                if (!didCancel) {\n                    dispatch({ authInfo })\n                }\n            } catch (_) {\n                // Important errors are logged in the client library\n            }\n        }\n\n        refreshToken()\n        return () => {\n            didCancel = true\n        }\n    }, [client, loggedInChangeCounter])\n\n    const logout = useCallback(client.logout, [])\n    const redirectToLoginPage = useCallback(client.redirectToLoginPage, [])\n    const redirectToSignupPage = useCallback(client.redirectToSignupPage, [])\n    const redirectToAccountPage = useCallback(client.redirectToAccountPage, [])\n    const redirectToOrgPage = useCallback(client.redirectToOrgPage, [])\n    const redirectToCreateOrgPage = useCallback(client.redirectToCreateOrgPage, [])\n    const redirectToSetupSAMLPage = useCallback(client.redirectToSetupSAMLPage, [])\n\n    const getLoginPageUrl = useCallback(client.getLoginPageUrl, [])\n    const getSignupPageUrl = useCallback(client.getSignupPageUrl, [])\n    const getAccountPageUrl = useCallback(client.getAccountPageUrl, [])\n    const getOrgPageUrl = useCallback(client.getOrgPageUrl, [])\n    const getCreateOrgPageUrl = useCallback(client.getCreateOrgPageUrl, [])\n    const getSetupSAMLPageUrl = useCallback(client.getSetupSAMLPageUrl, [])\n\n    const refreshAuthInfo = useCallback(async () => {\n        const authInfo = await client.getAuthenticationInfoOrNull(true)\n        dispatch({ authInfo })\n    }, [dispatch])\n\n    const activeOrgFn = props.getActiveOrgFn || loadOrgSelectionFromLocalStorage\n\n    const { defaultDisplayWhileLoading, defaultDisplayIfLoggedOut } = props\n    const value = {\n        loading: authInfoState.loading,\n        authInfo: authInfoState.authInfo,\n        logout,\n        defaultDisplayWhileLoading,\n        defaultDisplayIfLoggedOut,\n        redirectToLoginPage,\n        redirectToSignupPage,\n        redirectToAccountPage,\n        redirectToOrgPage,\n        redirectToCreateOrgPage,\n        redirectToSetupSAMLPage,\n        getLoginPageUrl,\n        getSignupPageUrl,\n        getAccountPageUrl,\n        getOrgPageUrl,\n        getCreateOrgPageUrl,\n        getSetupSAMLPageUrl,\n        activeOrgFn,\n        refreshAuthInfo,\n    }\n    return <AuthContext.Provider value={value}>{props.children}</AuthContext.Provider>\n}\n\nconst RequiredAuthWrappedComponent = withRequiredAuthInfo(\n    ({ children }: { children: React.ReactNode } & WithLoggedInAuthInfoProps) => <>{children}</>\n)\n\nexport const RequiredAuthProvider = (props: RequiredAuthProviderProps) => {\n    const { children, displayIfLoggedOut, displayWhileLoading, ...sharedProps } = props\n\n    return (\n        <AuthProvider\n            {...sharedProps}\n            defaultDisplayIfLoggedOut={displayIfLoggedOut}\n            defaultDisplayWhileLoading={displayWhileLoading}\n        >\n            <RequiredAuthWrappedComponent>{children}</RequiredAuthWrappedComponent>\n        </AuthProvider>\n    )\n}\n","import { AccessHelper, OrgHelper, User } from \"@propelauth/javascript\"\nimport { useContext } from \"react\"\nimport { AuthContext } from \"./AuthContext\"\n\nexport type UseAuthInfoLoading = {\n    loading: true\n    isLoggedIn: undefined\n    accessToken: undefined\n    user: undefined\n    orgHelper: undefined\n    accessHelper: undefined\n    isImpersonating: undefined\n    impersonatorUserId: undefined\n    refreshAuthInfo: () => Promise<void>\n    accessTokenExpiresAtSeconds: undefined\n}\n\nexport type UseAuthInfoLoggedInProps = {\n    loading: false\n    isLoggedIn: true\n    accessToken: string\n    user: User\n    orgHelper: OrgHelper\n    accessHelper: AccessHelper\n    isImpersonating: boolean\n    impersonatorUserId?: string\n    refreshAuthInfo: () => Promise<void>\n    accessTokenExpiresAtSeconds: number\n}\n\nexport type UseAuthInfoNotLoggedInProps = {\n    loading: false\n    isLoggedIn: false\n    accessToken: null\n    user: null\n    orgHelper: null\n    accessHelper: null\n    isImpersonating: false\n    impersonatorUserId: undefined\n    refreshAuthInfo: () => Promise<void>\n    accessTokenExpiresAtSeconds: undefined\n}\n\nexport type UseAuthInfoProps = UseAuthInfoLoading | UseAuthInfoLoggedInProps | UseAuthInfoNotLoggedInProps\n\nexport function useAuthInfo(): UseAuthInfoProps {\n    const context = useContext(AuthContext)\n    if (context === undefined) {\n        throw new Error(\"useAuthInfo must be used within an AuthProvider or RequiredAuthProvider\")\n    }\n\n    const { loading, authInfo, refreshAuthInfo } = context\n    if (loading) {\n        return {\n            loading: true,\n            isLoggedIn: undefined,\n            accessToken: undefined,\n            orgHelper: undefined,\n            accessHelper: undefined,\n            user: undefined,\n            isImpersonating: undefined,\n            impersonatorUserId: undefined,\n            refreshAuthInfo,\n            accessTokenExpiresAtSeconds: undefined,\n        }\n    } else if (authInfo && authInfo.accessToken) {\n        return {\n            loading: false,\n            isLoggedIn: true,\n            accessToken: authInfo.accessToken,\n            orgHelper: authInfo.orgHelper,\n            accessHelper: authInfo.accessHelper,\n            user: authInfo.user,\n            isImpersonating: !!authInfo.impersonatorUserId,\n            impersonatorUserId: authInfo.impersonatorUserId,\n            refreshAuthInfo,\n            accessTokenExpiresAtSeconds: authInfo.expiresAtSeconds,\n        }\n    }\n    return {\n        loading: false,\n        isLoggedIn: false,\n        accessToken: null,\n        user: null,\n        orgHelper: null,\n        accessHelper: null,\n        isImpersonating: false,\n        impersonatorUserId: undefined,\n        refreshAuthInfo,\n        accessTokenExpiresAtSeconds: undefined,\n    }\n}\n","import { AccessHelper, OrgHelper } from \"@propelauth/javascript\"\nimport { useAuthInfo } from \"./useAuthInfo\"\n\nexport type UseOrgHelperLoading = {\n    loading: true\n    orgHelper: null\n}\n\nexport type UseOrgHelperLoaded = {\n    loading: false\n    orgHelper: OrgHelper | null\n}\n\nexport type UseOrgHelper = UseOrgHelperLoading | UseOrgHelperLoaded\n\nexport function useOrgHelper(): UseOrgHelper {\n    const authInfo = useAuthInfo()\n\n    if (authInfo.loading) {\n        return {\n            loading: true,\n            orgHelper: null,\n        }\n    } else if (authInfo.isLoggedIn) {\n        return {\n            loading: false,\n            orgHelper: authInfo.orgHelper,\n        }\n    } else {\n        return {\n            loading: false,\n            orgHelper: null,\n        }\n    }\n}\n\nexport type UseAccessHelperLoading = {\n    loading: true\n    accessHelper: null\n}\n\nexport type UseAccessHelperLoaded = {\n    loading: false\n    accessHelper: AccessHelper | null\n}\n\nexport type UseAccessHelper = UseAccessHelperLoading | UseAccessHelperLoaded\n\nexport function useAccessHelper(): UseAccessHelper {\n    const authInfo = useAuthInfo()\n\n    if (authInfo.loading) {\n        return {\n            loading: true,\n            accessHelper: null,\n        }\n    } else if (authInfo.isLoggedIn) {\n        return {\n            loading: false,\n            accessHelper: authInfo.accessHelper,\n        }\n    } else {\n        return {\n            loading: false,\n            accessHelper: null,\n        }\n    }\n}\n","import {\n    AccessHelper,\n    AccessHelperWithOrg,\n    AuthenticationInfo,\n    OrgHelper,\n    OrgIdToOrgMemberInfo,\n    OrgMemberInfo,\n    User,\n} from \"@propelauth/javascript\"\nimport React from \"react\"\nimport { AuthContext } from \"./AuthContext\"\n\n// User information that we will hard code within the AuthProvider\nexport type UserInformationForTesting = {\n    user: User\n    orgMemberInfos: OrgMemberInfo[]\n    accessToken?: string\n}\n\nexport type AuthProviderForTestingProps = {\n    loading?: boolean\n    userInformation?: UserInformationForTesting\n    activeOrgFn?: () => string | null\n    children?: React.ReactNode\n}\n\n/**\n * A version of the AuthProvider specifically used for testing. It won't make any external requests, but will\n * instead set up the AuthProvider to act as if the information provided was returned from the API.\n */\nexport const AuthProviderForTesting = ({\n    loading,\n    userInformation,\n    activeOrgFn,\n    children,\n}: AuthProviderForTestingProps) => {\n    const authInfo = getAuthInfoForTesting(userInformation)\n    const activeOrgFnWithDefault = activeOrgFn ? activeOrgFn : () => null\n    const contextValue = {\n        loading: !!loading,\n        authInfo,\n        logout: () => Promise.resolve(),\n        redirectToLoginPage: () => {},\n        redirectToSignupPage: () => {},\n        redirectToAccountPage: () => {},\n        redirectToOrgPage: () => {},\n        redirectToCreateOrgPage: () => {},\n        redirectToSetupSAMLPage: () => {},\n        getLoginPageUrl: () => \"\",\n        getSignupPageUrl: () => \"\",\n        getAccountPageUrl: () => \"\",\n        getOrgPageUrl: () => \"\",\n        getCreateOrgPageUrl: () => \"\",\n        getSetupSAMLPageUrl: () => \"\",\n        activeOrgFn: activeOrgFnWithDefault,\n        refreshAuthInfo: () => Promise.resolve(),\n    }\n\n    return <AuthContext.Provider value={contextValue}>{children}</AuthContext.Provider>\n}\n\nfunction getAuthInfoForTesting(userInformation?: UserInformationForTesting): AuthenticationInfo | null {\n    if (!userInformation) {\n        return null\n    }\n\n    const orgIdToOrgMemberInfo: { [orgId: string]: OrgMemberInfo } = {}\n    for (const orgMemberInfo of userInformation.orgMemberInfos) {\n        orgIdToOrgMemberInfo[orgMemberInfo.orgId] = orgMemberInfo\n    }\n\n    const accessTokenWithDefault =\n        userInformation.accessToken === undefined ? \"PLACEHOLDER_ACCESS_TOKEN\" : userInformation.accessToken\n\n    return {\n        accessToken: accessTokenWithDefault,\n        expiresAtSeconds: 1701596820,\n        orgHelper: getOrgHelper(orgIdToOrgMemberInfo),\n        accessHelper: getAccessHelper(orgIdToOrgMemberInfo),\n        orgIdToOrgMemberInfo: orgIdToOrgMemberInfo,\n        user: userInformation.user,\n    }\n}\n\n// These helpers come from @propelauth/javascript, down the road we may want to export them from that library\n//   instead of copying\nfunction getOrgHelper(orgIdToOrgMemberInfo: OrgIdToOrgMemberInfo): OrgHelper {\n    return {\n        getOrg(orgId: string): OrgMemberInfo | undefined {\n            if (orgIdToOrgMemberInfo.hasOwnProperty(orgId)) {\n                return orgIdToOrgMemberInfo[orgId]\n            } else {\n                return undefined\n            }\n        },\n        getOrgIds(): string[] {\n            return Object.keys(orgIdToOrgMemberInfo)\n        },\n        getOrgs(): OrgMemberInfo[] {\n            return Object.values(orgIdToOrgMemberInfo)\n        },\n        getOrgByName(orgName: string): OrgMemberInfo | undefined {\n            for (const orgMemberInfo of Object.values(orgIdToOrgMemberInfo)) {\n                if (orgMemberInfo.orgName === orgName || orgMemberInfo.urlSafeOrgName === orgName) {\n                    return orgMemberInfo\n                }\n            }\n            return undefined\n        },\n    }\n}\n\nfunction getAccessHelper(orgIdToOrgMemberInfo: OrgIdToOrgMemberInfo): AccessHelper {\n    function isRole(orgId: string, role: string): boolean {\n        const orgMemberInfo = orgIdToOrgMemberInfo[orgId]\n        if (orgMemberInfo === undefined) {\n            return false\n        }\n        return orgMemberInfo.userAssignedRole === role\n    }\n\n    function isAtLeastRole(orgId: string, role: string): boolean {\n        const orgMemberInfo = orgIdToOrgMemberInfo[orgId]\n        if (orgMemberInfo === undefined) {\n            return false\n        }\n        return orgMemberInfo.userInheritedRolesPlusCurrentRole.includes(role)\n    }\n\n    function hasPermission(orgId: string, permission: string): boolean {\n        const orgMemberInfo = orgIdToOrgMemberInfo[orgId]\n        if (orgMemberInfo === undefined) {\n            return false\n        }\n        return orgMemberInfo.userPermissions.includes(permission)\n    }\n\n    function hasAllPermissions(orgId: string, permissions: string[]): boolean {\n        const orgMemberInfo = orgIdToOrgMemberInfo[orgId]\n        if (orgMemberInfo === undefined) {\n            return false\n        }\n        return permissions.every((permission) => orgMemberInfo.userPermissions.includes(permission))\n    }\n\n    function getAccessHelperWithOrgId(orgId: string): AccessHelperWithOrg {\n        return {\n            isRole(role: string): boolean {\n                return isRole(orgId, role)\n            },\n            isAtLeastRole(role: string): boolean {\n                return isAtLeastRole(orgId, role)\n            },\n            hasPermission(permission: string): boolean {\n                return hasPermission(orgId, permission)\n            },\n            hasAllPermissions(permissions: string[]): boolean {\n                return hasAllPermissions(orgId, permissions)\n            },\n        }\n    }\n\n    return {\n        isRole,\n        isAtLeastRole,\n        hasPermission,\n        hasAllPermissions,\n        getAccessHelperWithOrgId,\n    }\n}\n","import { useContext } from \"react\"\nimport { AuthContext } from \"./AuthContext\"\n\nexport function useHostedPageUrls() {\n    const context = useContext(AuthContext)\n    if (context === undefined) {\n        throw new Error(\"useHostedPageUrls must be used within an AuthProvider or RequiredAuthProvider\")\n    }\n    const {\n        getLoginPageUrl,\n        getSignupPageUrl,\n        getAccountPageUrl,\n        getOrgPageUrl,\n        getCreateOrgPageUrl,\n        getSetupSAMLPageUrl,\n    } = context\n    return {\n        getLoginPageUrl,\n        getSignupPageUrl,\n        getAccountPageUrl,\n        getOrgPageUrl,\n        getCreateOrgPageUrl,\n        getSetupSAMLPageUrl,\n    }\n}\n","import { useContext } from \"react\"\nimport { AuthContext } from \"./AuthContext\"\n\nexport function useLogoutFunction() {\n    const context = useContext(AuthContext)\n    if (context === undefined) {\n        throw new Error(\"useLogoutFunction must be used within an AuthProvider or RequiredAuthProvider\")\n    }\n    const { logout } = context\n    return logout\n}\n","import { AccessHelper, OrgHelper, User } from \"@propelauth/javascript\"\nimport hoistNonReactStatics from \"hoist-non-react-statics\"\nimport React, { useContext } from \"react\"\nimport { Subtract } from \"utility-types\"\nimport { AuthContext } from \"./AuthContext\"\n\nexport type WithLoggedInAuthInfoProps = {\n    isLoggedIn: true\n    accessToken: string\n    user: User\n    orgHelper: OrgHelper\n    accessHelper: AccessHelper\n    isImpersonating: boolean\n    impersonatorUserId?: string\n    refreshAuthInfo: () => Promise<void>\n    accessTokenExpiresAtSeconds: number\n}\n\nexport type WithNotLoggedInAuthInfoProps = {\n    isLoggedIn: false\n    accessToken: null\n    user: null\n    orgHelper: null\n    accessHelper: null\n    isImpersonating: false\n    impersonatorUserId: null\n    refreshAuthInfo: () => Promise<void>\n    accessTokenExpiresAtSeconds: null\n}\n\nexport type WithAuthInfoProps = WithLoggedInAuthInfoProps | WithNotLoggedInAuthInfoProps\n\nexport interface WithAuthInfoArgs {\n    displayWhileLoading?: React.ReactElement\n}\n\nexport function withAuthInfo<P extends WithAuthInfoProps>(\n    Component: React.ComponentType<P>,\n    args?: WithAuthInfoArgs\n): React.ComponentType<Subtract<P, WithAuthInfoProps>> {\n    const displayName = `withAuthInfo(${Component.displayName || Component.name || \"Component\"})`\n\n    const WithAuthInfoWrapper = (props: Subtract<P, WithAuthInfoProps>) => {\n        const context = useContext(AuthContext)\n        if (context === undefined) {\n            throw new Error(\"withAuthInfo must be used within an AuthProvider or RequiredAuthProvider\")\n        }\n\n        const { loading, authInfo, defaultDisplayWhileLoading, refreshAuthInfo } = context\n\n        function displayLoading() {\n            if (args?.displayWhileLoading) {\n                return args.displayWhileLoading\n            } else if (defaultDisplayWhileLoading) {\n                return defaultDisplayWhileLoading\n            }\n            return <React.Fragment />\n        }\n\n        if (loading) {\n            return displayLoading()\n        } else if (authInfo) {\n            const loggedInProps: P = {\n                ...(props as P),\n                accessToken: authInfo.accessToken,\n                isLoggedIn: !!authInfo.accessToken,\n                orgHelper: authInfo.orgHelper,\n                accessHelper: authInfo.accessHelper,\n                user: authInfo.user,\n                isImpersonating: !!authInfo.impersonatorUserId,\n                impersonatorUserId: authInfo.impersonatorUserId,\n                refreshAuthInfo,\n                accessTokenExpiresAtSeconds: authInfo.expiresAtSeconds,\n            }\n            return <Component {...loggedInProps} />\n        } else {\n            const notLoggedInProps: P = {\n                ...(props as P),\n                accessToken: null,\n                isLoggedIn: false,\n                user: null,\n                orgHelper: null,\n                accessHelper: null,\n                isImpersonating: false,\n                impersonatorUserId: null,\n                refreshAuthInfo,\n                accessTokenExpiresAtSeconds: null,\n            }\n            return <Component {...notLoggedInProps} />\n        }\n    }\n    WithAuthInfoWrapper.displayName = displayName\n    WithAuthInfoWrapper.WrappedComponent = Component\n\n    return hoistNonReactStatics(WithAuthInfoWrapper, Component)\n}\n"],"names":["getOrgHelper","getAccessHelper","ORG_SELECTION_LOCAL_STORAGE_KEY","useActiveOrg","context","useContext","AuthContext","undefined","Error","loading","authInfo","orgHelper","proposedActiveOrgIdOrName","activeOrgFn","getOrg","getOrgByName","saveOrgSelectionToLocalStorage","orgIdOrName","localStorage","setItem","loadOrgSelectionFromLocalStorage","getItem","require$$0","require$$1","useRedirectFunctions","redirectToAccountPage","redirectToSignupPage","redirectToLoginPage","redirectToOrgPage","redirectToCreateOrgPage","RedirectToSignup","children","postSignupRedirectUrl","useEffect","React","RedirectToLogin","postLoginRedirectUrl","withRequiredAuthInfo","Component","args","displayName","name","WithRequiredAuthInfoWrapper","props","defaultDisplayIfLoggedOut","defaultDisplayWhileLoading","refreshAuthInfo","displayLoading","displayWhileLoading","displayLoggedOut","displayIfLoggedOut","loggedInProps","accessToken","isLoggedIn","accessHelper","user","isImpersonating","impersonatorUserId","accessTokenExpiresAtSeconds","expiresAtSeconds","WrappedComponent","hoistNonReactStatics","createContext","initialAuthInfoState","authInfoStateReducer","_state","action","AuthProvider","authInfoState","dispatch","useReducer","loggedInChangeCounter","setLoggedInChangeCounter","useState","client","useMemo","createClient","authUrl","enableBackgroundTokenRefresh","addLoggedInChangeObserver","x","destroy","didCancel","refreshToken","getAuthenticationInfoOrNull","e","console","log","interval","setInterval","clearInterval","_","logout","useCallback","redirectToSetupSAMLPage","getLoginPageUrl","getSignupPageUrl","getAccountPageUrl","getOrgPageUrl","getCreateOrgPageUrl","getSetupSAMLPageUrl","getActiveOrgFn","value","RequiredAuthWrappedComponent","RequiredAuthProvider","sharedProps","useAuthInfo","useOrgHelper","useAccessHelper","AuthProviderForTesting","userInformation","getAuthInfoForTesting","activeOrgFnWithDefault","contextValue","Promise","resolve","orgIdToOrgMemberInfo","orgMemberInfo","orgMemberInfos","orgId","accessTokenWithDefault","hasOwnProperty","getOrgIds","Object","keys","getOrgs","values","orgName","urlSafeOrgName","isRole","role","userAssignedRole","isAtLeastRole","userInheritedRolesPlusCurrentRole","includes","hasPermission","permission","userPermissions","hasAllPermissions","permissions","every","getAccessHelperWithOrgId","useHostedPageUrls","useLogoutFunction","withAuthInfo","WithAuthInfoWrapper","notLoggedInProps"],"mappings":"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"}